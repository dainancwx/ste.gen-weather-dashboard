<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo-title">
      <img src="logo.png" alt="Site Logo" class="site-logo">
      <h1>Weather Dashboard</h1>
    </div>
    <div id="lastUpdated">Last Updated: --</div>
  </header>

  <main>
    <section id="leftPanel">
      <div id="temperature" class="bigTemp">--°F</div>
      <div id="pressure" class="subInfo">Pressure: -- hPa</div>
      <div id="humidity" class="subInfo">Humidity: --%</div>
    </section>

    <section id="rightPanel">
      <div class="card">
        <div class="windRow">
          <div>Wind Speed: <span id="windSpeed">-- mph</span></div>
          <div>Wind Dir: <span id="windDir">--°</span></div>
        </div>
      </div>
      <div id="liveTimeCard" class="card">
        <div>Local Time: <span id="liveTime">--:--:--</span></div>
      </div>
    </section>
  </main>

  <!-- Forecast Section -->
  <section id="forecastSection">
    <h2>5-Day Forecast (8-hour intervals)</h2>
    <div class="forecastContainer" id="forecastContainer"></div>
  </section>

  <!-- Wunderground Station Section -->
  <section id="wundergroundSection">
    <h2 style="text-align:center; color:#59a6ff;">Station Data (Logia - Wunderground)</h2>
    <div class="card" style="max-width:600px; margin: 0 auto; text-align:center;">
      <p><strong>Station:</strong> <span id="stationName">--</span></p>
      <p><strong>Temp:</strong> <span id="stationTemp">--°F</span></p>
      <p><strong>Humidity:</strong> <span id="stationHumidity">--%</span></p>
      <p><strong>Pressure:</strong> <span id="stationPressure">-- hPa</span></p>
      <p><strong>Wind:</strong> <span id="stationWind">-- mph</span></p>
      <p><strong>Rain (Today):</strong> <span id="stationRain">-- in</span></p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-credit">
      Weather data © <a href="https://openweathermap.org/">OpenWeather</a> & 
      <a href="https://www.wunderground.com/">Weather Underground</a>
    </div>
  </footer>

  <script src="dashboard.js"></script>
  <script>
    // Wunderground API Fetch
    const STATION_ID = "YOUR_STATION_ID";   // <-- Replace with your Logia/WU station ID
    const API_KEY = "YOUR_API_KEY";         // <-- Replace with your WU API key

    async function fetchWundergroundData() {
      try {
        const url = `https://api.weather.com/v2/pws/observations/current?stationId=${STATION_ID}&format=json&units=e&apiKey=${API_KEY}`;
        const res = await fetch(url);
        const data = await res.json();

        if (data && data.observations && data.observations.length > 0) {
          const obs = data.observations[0];

          document.getElementById("stationName").textContent = obs.stationID || "Unknown";
          document.getElementById("stationTemp").textContent = obs.imperial.temp + "°F";
          document.getElementById("stationHumidity").textContent = obs.humidity + "%";
          document.getElementById("stationPressure").textContent = obs.imperial.pressure + " hPa";
          document.getElementById("stationWind").textContent = obs.imperial.windspeed + " mph";
          document.getElementById("stationRain").textContent = obs.imperial.precipTotal + " in";
        }
      } catch (err) {
        console.error("WU fetch error:", err);
      }
    }

    // Refresh WU data every 5 minutes
    fetchWundergroundData();
    setInterval(fetchWundergroundData, 300000);
  </script>
</body>
</html>
